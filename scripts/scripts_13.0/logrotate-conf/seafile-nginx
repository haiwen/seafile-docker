/shared/seafile/logs/seahub.access.log
/shared/seafile/logs/seahub.error.log
/shared/seafile/logs/seafhttp.access.log
/shared/seafile/logs/seafhttp.error.log
/shared/seafile/logs/seafdav.access.log
/shared/seafile/logs/seafdav.error.log

{
        daily
        missingok
        rotate 7
        # compress
        # delaycompress
        dateext
        dateformat .%Y-%m-%d
        notifempty
        create 640 root root
        sharedscripts
        postrotate
                NGINX_PID=$(pgrep -o -f "nginx: master process")
                if [ -n "$NGINX_PID" ]; then
                        kill -USR1 "$NGINX_PID"
                        sleep 0.2
                fi
        endscript
}
